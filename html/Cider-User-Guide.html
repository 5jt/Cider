<!DOCTYPE html>
<html lang="en" style="scroll-behavior:smooth" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta charset="utf-8">
<title>Cider User Guide</title>
<style media="screen">
html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}body{margin:0;}article,aside,footer,header,nav,section{display:block;}h1{font-size:2em;margin:0.67em 0;}figcaption,figure,main{display:block;}figure{margin:1em 40px;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace, monospace;font-size:1em;}a{background-color:transparent;-webkit-text-decoration-skip:objects;}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted;}b,strong{font-weight:inherit;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace, monospace;font-size:1em;}dfn{font-style:italic;}mark{background-color:#ff0;color:#000;}small{font-size:0.8em;}sub,sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}audio,video{display:inline-block;}audio:not([controls]){display:none;height:0;}img{border-style:none;}svg:not(:root){overflow:hidden;}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:1em;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,html [type="button"], [type="reset"],[type="submit"]{-webkit-appearance:button;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{display:inline-block;vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-cancel-button,[type="search"]::-webkit-search-decoration{-webkit-appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details, menu{display:block;}summary{display:list-item;}canvas{display:inline-block;}template{display:none;}[hidden]{display:none;}body{margin:0;font-family:"Bookman Old Style", "Callisto MT", Bookman, "Goudy Old Style", Garamond, serif;background-color:#fdfdfd;font-size:18px;line-height:1.4;max-width:900px;padding:0.83em;color:#292929;word-wrap:break-word;overflow-wrap:break-word;}h1, h2, h3, h4, h5, h6{color:#404040;font-weight:800;padding-left:0;}h1, h2, h3, h4, h5, h6{font-family:"Century Gothic", Verdana, "Sans";}h1, h2, h3, h4, p{margin-bottom:0.88em;}h1{font-size:1.8em;margin:0.27em 0 1.11em 0;}h1 > code, h2 > code, h3 > code, h4 > code, h5 > code, h6 > code{font-size:1em;background-color:inherit;}h2{font-size:1.44em;margin:0.55em 0 0.55em 0;padding-top:0.55em;border-bottom:1px solid Silver;}h3{margin:0;margin-top:0.55em;font-size:1.22em;}nav h3{font-size:0.88em;margin-left:0.83em;margin-bottom:0.27em;}h4{font-size:1em;margin:0;margin-top:0.55em;}h5{font-size:0.94em;margin:0;margin-top:0.66em;padding:0;}h6{font-size:0.88em;margin:0;margin-top:0.66em;padding:0;}a{color:#0099ff;margin:0;padding:0;vertical-align:baseline;}a:visited{color:purple;}a.autoheader_anchor{text-decoration:none;}ul{list-style-type:disc;}ul, ol{padding:0;margin:0;}dd{padding-top:0.25em;}p.first_dd{padding-top:0.25em;}li > ul, ol{padding-bottom:0;}li{line-height:1.3;margin-left:1.38em;margin-bottom:0.55em;}ul > li{margin-left:2.5em;}ol > li{margin-left:2.5em;}li ul{margin-left:0.55em;}li ul{margin-left:0.27em;}li p{padding:1px 0 0 0;margin:0.55em 0 0.27em 0;line-height:1.3;}ul, ol{line-height:1.3;padding:0.33em 0 0 0;margin:0.5em;}p{line-height:1.2;padding:0.40em 0 0 0;margin:0;}pre{overflow:scroll;padding:0.55em 0.27em;margin:0.55em 0 0.55em 0 !important;background-color:#faebd7;color:#3e3e3e;border:1px Silver dashed;display:block;font-family:APLFont, monospace;font-weight:normal;white-space:pre-wrap;}pre > code{line-height:1.2;border:0;padding:0;margin:0;background-color:inherit;color:inherit;font-weight:inherit;white-space:pre-wrap;}td code{padding:0;}a code{padding:0;font-size:1em;}nav code{background-color:inherit;font-weight:400;color:inherit;}code{font-family:APLFont, monospace;color:Black;font-weight:800;line-height:1.2;font-size:0.88em;margin:0;color:#950000;padding:0 0.16em;}tbody tr:nth-child(even){background-color:#F0F0F0;}th{background-color:#E6E6E6;color:black;}th, td{padding:0.16em 0.55em;vertical-align:top;}table td + td{border-left:1px solid gray;}table th + th{border-left:1px solid gray;}table{border-color:Black;margin:1.5em 0;border:2px black;border-collapse:collapse;font-family:APLFont;font-size:0.88em;line-height:1.2;border:1px solid Gray;}li > table{margin:0.55em 0 0.55em 0;}tr{margin:1.11em;}th{font-weight:bold;}tfoot td{font-weight:bold;}blockquote{border-left:0.27em solid silver;padding-left:0.27em;margin:0.83em 0.27em 0.83em 0.55em;}blockquote ul li{margin-left:1.38em;}blockquote ol li{margin-left:1.38em;}li > blockquote{margin-left:0;}nav{background-color:#f5f5f5;border:1px solid Black;padding:0.55em;margin:0.55em;margin-right:0;box-shadow:0.27em 0.27em 0.27em Gray;overflow:hidden;clear:both;}nav#main_nav{position:fixed;top:0;right:0.55em;float:none;width:auto;}nav#main_nav_no_collapse li{font-size:0.77rem;}nav#main_nav_no_collapse li{line-height:1.5;}nav ul{list-style-type:none;margin:0 0 0.11em 0;padding:0;}nav a:visited{color:black;}nav ul li{margin-bottom:0.16em;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{font-size:0.75rem;line-height:1.3;padding:0;margin-top:0;margin-bottom:0;margin-left:0.83em;}nav p{font-weight:bold;font-size:0.75rem;padding-top:0;}dl{margin-top:0.1em;margin-bottom:0.1em;}dt{margin-top:0.75em;margin-bottom:0.1em;font-weight:800;}label#hide_toc_label{font-size:0.8em;}.toc-container{position:relative;height:auto;}div.toc-container h1{font-size:0.88em;margin:0.27em 0 0.27em 0;}[type="checkbox"]{position:absolute;left:-9999px;}label{display:block;width:100%;height:1.1em;cursor:pointer;top:0;padding-left:1.1em;}label:before{content:'Table of contents \25BC';font-weight:bold;font-size:90%;padding-bottom:0;}[type="checkbox"] ~ div{display:none;}[type="checkbox"]:checked ~ div{display:block;margin-top:1.1em;}[type="checkbox"]:checked + label{top:100%;}[type="checkbox"]:checked + label:before{content:'Table of contents ▲';}div#footnotes_div p{line-height:1;padding-bottom:0;padding-top:0;}div#footnotes_div ol{padding-top:0;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.no_display{display:none;}.red{color:red;}.center{text-align:center;margin-left:auto;margin-right:auto;}.left{text-align:left;margin-right:0 auto;}.right{text-align:right;margin-left:0 auto;}img{margin-top:0.55em;margin-bottom:0.27em;}div.leanpub{padding:0.83em 0.55em 1.11em 0;margin:0.55em 0 0 0.27em;overflow:auto;}div.leanpub_A{border:1px solid black;background-color:#f1f1f1;padding:0.55em;margin:1.11em 0 0.83em 0;}div.leanpub h3, div.leanpub_A h3{font-size:1.2em;padding:0;margin:0;}div.leanpub h4, div.leanpub_A h4{font-size:1.1em;padding:0.27em 0 0 0;margin:0;}div.leanpub h5, div.leanpub h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub_A h5, div.leanpub_A h5{font-size:1.0em;padding:0.27em 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 1.11em 0.27em 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub img{float:left;padding:0;margin:0.55em 1.11em 0 0;clear:both;}div.leanpub tbody *{background-color:transparent;}div.leanpub p{padding:0.17em 0 0 0;margin:0;}span.leanpub_code{color:Red;}div.leanpub p{display:block;padding:0.44em 0 0 0;}div.leanpub > div{margin-left:2.27em;}.print_only{display:none;}
</style>
<style media="print">
@page{margin:25mm 20mm 25mm 20mm;}body{font-family:"Bookman Old Style", "Callisto MT", Bookman,"Goudy Old Style", Garamond, serif;font-size:9pt;line-height:1.2;}h1{font-size:170%;}h2{font-size:110%;}h3{font-size:110%;}h4{font-size:105%;}h5{font-size:100%;}h6{font-size:95%;}h1{margin:0 0 20pt 0;}h2{margin:15pt 0 3pt 0;}h3{margin:10pt 0 0pt 0;}h4{margin:10pt 0 0pt 0;}h5{margin:9pt 0 0pt 0;}h6{margin:9pt 0 0pt 0;}h1, h2, h3, h4, h5, h6{color:black;font-family:"Century Gothic", Verdana, "Sans";page-break-after:avoid;}h1 > code, h2 > code, h3 > code, h4 > code, h5 > code, h6 > code{font-size:100%;}h2{border-bottom:1pt solid Silver;padding-bottom:2pt;}.h_tag{page-break-after:avoid;break-after:avoid;}abbr[title]{border-bottom:0;text-decoration:none;}a{color:black;margin:0;padding:0;vertical-align:baseline;text-decoration:none;font-style:italic;}a.autoheader_anchor{text-decoration:none;font-style:normal;page-break-after:avoid;break-after:avoid;}ul{list-style-type:square;}ul, ol{padding:0;margin:0;}li > ul, ol{padding-bottom:0;}li{line-height:1.3;margin-left:13pt;margin-bottom:5pt;}ul > li{margin-left:25pt;}ol > li{margin-left:25pt;}li ul{margin-left:5pt;}li ul{margin-left:3pt;}li p{padding:1pt 0 0 0;margin:5pt 0 3pt 0;line-height:1.3;}p, ul, ol{line-height:1.3;padding:4pt 0 0 0;margin:0;color:black;}ul, ol{margin-top:0.75em;}pre{padding:3pt;margin:5pt 0;white-space:pre-wrap;background-color:#FAFAFA;border:1pt Silver solid;display:block;font-family:APLFont, monospace;page-break-inside:avoid;}pre code{background-color:#FAFAFA;color:Black;padding:0;margin:0 0 -6pt 0;line-height:1.1;border:0;white-space:pre-wrap;}code{font-family:APLFont, monospace;line-height:1.2;font-size:9pt;padding:3pt 1pt 3pt 1pt;color:#950000;padding:3pt 4pt 3pt 4pt;}tbody th, tfoot tr{background-color:#e6e6e6;}tbody tr:nth-child(even){background-color:#fafafa;}th{background-color:#F0F0F0;}th, td{padding:1pt 5pt;border:1px solid #E3E3E3;vertical-align:top;}table td + td{border-left:1px solid gray;}table th + th{border-left:1px solid gray;}table code{font-style:normal;padding-left:0;padding-right:0;}table{margin:1.5em 0;font-family:APLFont;font-size:9pt;padding:0;border:1pt solid silver;border-collapse:collapse;}li > table{margin:10pt 0 10pt 0;}tr{margin:20pt;}th{font-weight:bold;}tfoot td{font-weight:bold;}blockquote{border-left:5pt solid silver;padding-left:5pt;margin:8pt 3pt 8pt 8pt;}nav{background-color:#f8f8f8;border:1pt solid Gray;width:auto;float:right;padding:5pt 5pt 5pt 0;margin:5pt 0 5pt 5pt;page-break-inside:avoid;break-inside:avoid;clear:both;overflow:hidden;}nav *{font-size:75%;}nav ul{list-style-type:none;margin:0 0 2pt 0;padding:0;}nav ul li{margin-bottom:0;}nav li p{margin:0;padding:0;line-height:1;margin:0;padding:0;}nav li{font-size:9pt;line-height:1;padding:0;margin-top:0;margin-bottom:0;margin-left:8pt;}dl{margin-top:0;margin-bottom:10pt;}dt{margin-top:10pt;margin-bottom:0;font-weight:800;page-break-inside:avoid;}dd{margin-top:2pt;}label#hide_toc_label{font-size:65%;}.toc-container{position:relative;height:auto;margin-top:2pt;background-color:inherit;}.toc-container h3{margin:0 0 2pt 7pt;}[type="checkbox"]{display:none;}label{display:block;width:100%;height:1.1em;top:0;padding-left:10pt;}label:before{content:'Table of contents';font-weight:bold;font-size:140%;padding-bottom:10pt;}a.external_link::before{content:" 🌎";}a.bookmark_link::before{content:" ➯";}a.mailto_link::before{content:" ✉"}nav a.bookmark_link{font-style:normal;}nav p{margin-left:10pt;font-weight:bold;font-size:9pt;}nav a{font-style:normal;}nav a.bookmark_link::before{content:"";}div#footnotes_div a::before{content:"";}div#footnotes_div a{font-style:normal;}div#footnotes_div{page-break-inside:avoid;}@font-face{font-family:"APLFont";src:local("APL385 Unicode"), url("https://misc.aplteam.com/apl385.ttf") format("truetype");}.no_print{display:none;}.red{color:red;}.center{text-align:center;margin:0 auto;}.left{text-align:left;margin-right:0 auto;}.right{text-align:right;margin-left:0 auto;}.avoid_page_break{page-break-inside:avoid;}.page_break_before{page-break-before:always;}div.leanpub{margin:10pt 0 10pt 8pt;page-break-inside:avoid;}div.leanpub_A{border:1pt solid black;background-color:#f9f9f9;padding:5pt;margin:10pt 0 10pt 0;page-break-inside:avoid;}div.leanpub h3, div.leanpub_A h3{font-size:1.2em;padding:3pt 0 0 0;margin:0;}div.leanpub h4, div.leanpub_A h4{font-size:1.1em;padding:3pt 0 0 0;margin:0;}div.leanpub h5, div.leanpub h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub_A h5, div.leanpub_A h5{font-size:1.0em;padding:3pt 0 0 0;margin:0;}div.leanpub img{padding:0;margin:0 10pt 2pt 0;}div.leanpub_A > p:first-child{padding-top:0;margin-top:0;}div.leanpub > div > h1:first-child{padding-top:5pt;}div.leanpub img{float:left;padding:0;margin:5pt 10pt 0 0;clear:both;}div.leanpub p{padding:3pt 0 0 0;margin:0;}span.leanpub_code{font-weight:bold;}div.leanpub p{display:block;padding:8pt 0 0 0;}div.leanpub > div{margin-left:35pt;}sup{font-size:0.75em;line-height:0;position:relative;vertical-align:baseline;top:-0.4em;}
</style>
<meta name="author" content="kai">
</head>
<body>
<div class="h_tag">
<a href="#Cider-User-Guide" id="Cider-User-Guide" class="autoheader_anchor">
<h1 data-id="Cider-User-Guide">Cider User Guide</h1>
</a>
</div>
<div class="h_tag">
<a href="#What-is-Cider-for" id="What-is-Cider-for" class="autoheader_anchor">
<h2 data-id="What-is-Cider-for">1. What is Cider for?</h2>
</a>
</div>
<p>In this document we use the word “project” for an application or a tool that consists not only of what is finally delivered, like an Installer EXE under Windows or a Tatin package or a workspace or whatnot, but also of stuff that is required only during development, like test cases and test data, tools, helpers and similar stuff.</p>
<p>While LINK is perfect for bringing stuff into the workspace, putting together an environment in which development can take place requires more than just that. There is something missing…</p>
<div class="leanpub">
<img src="https://download.aplwiki.com/LeanPub/Images/information.png" alt="Information">
<div>
<p>Note that in this document names stemming from the Cider configuration file are shown <code>like this</code>.</p>
</div>
</div>

<div class="h_tag">
<a href="#The-solution" id="The-solution" class="autoheader_anchor">
<h2 data-id="The-solution">2. The solution</h2>
</a>
</div>
<p>Cider attempts to fill that gap. A Cider project requires a configuration file named <code>cider.config</code>.</p>
<p>The two most important commands of Cider's user commands are <code>CreateProject</code> and <code>OpenProject</code>.</p>
<div class="h_tag">
<a href="#CreateProject" id="CreateProject" class="autoheader_anchor">
<h3 data-id="CreateProject">2.1. CreateProject</h3>
</a>
</div>
<p>With <code>]Cider.CreateProject</code> any folder that does not yet host a file <code>cider.config</code> can be transformed into a Cider project. (You may specify the <code>-acceptConfig</code> flag to override this default behaviour and make Cider accept an already existing file <code>cider.config</code>)</p>
<p>If the folder does not yet exist it will be created. In any case the folder will be populated with a file <code>cider.config</code>.</p>
<p>Note that <code>]Cider.CreateProject</code> deals differently with the possible combinations of namespace and source folder:</p>
<ul>
<li>The namespace and the source folder are both empty</li>
<li>The namespace is empty and the source folder is not</li>
<li>The source folder is empty and the namespace is not</li>
</ul>
<p>In all these cases it should be pretty obvious what <code>]Cider.CreateProject</code> will do.</p>
<p>However, when both namespace and source folder are <em>not</em> empty then the user will be asked whether the contents of the namespace should be deleted, because that might well make sense.</p>
<p>If the user answers this question with “No” then an error is thrown.</p>
<div class="h_tag">
<a href="#Configuration-parameters" id="Configuration-parameters" class="autoheader_anchor">
<h4 data-id="Configuration-parameters">2.1.1. Configuration parameters</h4>
</a>
</div>
<p>The Cider configuration file comes with four sections:</p>
<ul>
<li>CIDER</li>
<li>LINK</li>
<li>SYSVARS</li>
<li>USER</li>
</ul>
<p>We will discuss the settings in each section in detail.</p>
<div class="h_tag">
<a href="#CIDER" id="CIDER" class="autoheader_anchor">
<h5 data-id="CIDER">2.1.1.1. CIDER</h5>
</a>
</div>
<p>This section contains the Cider-specific parameters.</p>
<div class="h_tag">
<a href="#parent" id="parent" class="autoheader_anchor">
<h6 data-id="parent">2.1.1.1.1. parent</h6>
</a>
</div>
<p>Defaults to <code>#</code> but can be something like <code>⎕SE</code> or <code>#.MyNamespace1.MyNamespace2</code>.</p>
<p>Note that all namespaces specified as <code>parent</code> <em>must already exist</em>, otherwise an error is thrown.</p>
<p>With the user command this can be overwritten temporarily with, say:</p>
<pre><code>]Cider.OpenProject {path} -parent=#.MyProjects</code></pre>
<div class="h_tag">
<a href="#projectSpace" id="projectSpace" class="autoheader_anchor">
<h6 data-id="projectSpace">2.1.1.1.2. projectSpace</h6>
</a>
</div>
<p>The name of a namespace that will host the project. <em>Must</em> be set by the user in the config file.</p>
<p>With the user command this can be overwritten temporarily with, say:</p>
<pre><code>]Cider.OpenProject {path} -projectspace=Foo</code></pre>
<div class="h_tag">
<a href="#source" id="source" class="autoheader_anchor">
<h6 data-id="source">2.1.1.1.3. source</h6>
</a>
</div>
<p>Defaults to <code>APLSource</code>: a sub folder that hosts the code. That's where the code lives, relative to the project folder.</p>
<p>This might be empty, for example when the project is bascially just a script (class or namespace).</p>
<div class="h_tag">
<a href="#tatinFolder" id="tatinFolder" class="autoheader_anchor">
<h6 data-id="tatinFolder">2.1.1.1.4. tatinFolder</h6>
</a>
</div>
<p>Defaults to “packages”.</p>
<p>Defines the folder(s) with installed Tatin packages required by the project as well as resulting package or application. Must be relative to the folder where the project lives.</p>
<p>Accepts also something like this:</p>
<pre><code>packages,packages_dev=TestCases</code></pre>
<p>This is interpreted as follows:</p>
<ol start="1">
<li>Load all Tatin packages that are installed in the project's sub folder “packages” into the namespace that hosts the project</li>
<li>Load all Tatin packages that are installed in the project's sub folder “packages_dev/” into the namespace <code>TestCases</code> which must be a child of the namespace that hosts the project</li>
</ol>
<p>You are advised to put the main package folder first, since this is assumed by Tatin's <code>Pack</code> method in order to find — and add — dependencies.</p>
<p>In the unlikely event that a project depends on packages only for development use a leading command to indicate this:</p>
<pre><code>,packages_dev=TestCases</code></pre>
<div class="h_tag">
<a href="#init" id="init" class="autoheader_anchor">
<h6 data-id="init">2.1.1.1.5. init</h6>
</a>
</div>
<p>If not empty this must be an expression that would call a function within the project. It must be defined relative to <code>projectSpace</code>.</p>
<p>The expression will be executed after a project was opened.</p>
<div class="h_tag">
<a href="#info_url" id="info_url" class="autoheader_anchor">
<h6 data-id="info_url">2.1.1.1.6. info_url</h6>
</a>
</div>
<p>If not empty this is expected to be a URL pointing to, say, a GitHub project. For information only.</p>
<div class="h_tag">
<a href="#make" id="make" class="autoheader_anchor">
<h6 data-id="make">2.1.1.1.7. make</h6>
</a>
</div>
<p>Empty or an expression that would create a new version of the project.</p>
<p>The purpose is to tell anybody not familiar with the project how to create a new version by entering</p>
<pre><code>      ]Cider.Make
#.Cider.Admin.Make 1 ⍝ Execute this for creating a new version</code></pre>
<p>The output is compiled from the config parameter values <code>CIDER.parent</code>, <code>CIDER.projectSpace</code> and <code>CIDER.make</code> and the comment is then added.</p>
<p>However, if the first non-white space character of <code>make</code> is a <code>]</code> its definition would just be printed to <code>⎕SE</code> together with a comment.</p>
<div class="h_tag">
<a href="#tests" id="tests" class="autoheader_anchor">
<h6 data-id="tests">2.1.1.1.8. tests</h6>
</a>
</div>
<p>Empty or an expression that would executes the test cases of the project.</p>
<p>The purpose is to tell anybody not familiar with the project how to execute the test cases by entering</p>
<pre><code>      ]Cider.RunTests
#.Cider.TestCases.RunTests ⍝ Execute this for running the test suite</code></pre>
<p>However, if the first non-white space character of <code>tests</code> is a <code>]</code> (making it a user command rather than a function call) its definition would just be printed to <code>⎕SE</code> together with a comment.</p>
<div class="h_tag">
<a href="#githubUsername" id="githubUsername" class="autoheader_anchor">
<h6 data-id="githubUsername">2.1.1.1.9. githubUsername</h6>
</a>
</div>
<p>This parameter was introduced with version 0.19.0 — from this version onwards Cider will deal with a missing parameter by this name: it will establish it as an empty character vector.</p>
<p>By default the parameter is empty. If a project is hosted on GitHub then you are advised to set it to the GitHub username — “group” in Tatin speak.</p>
<p>That allows commands to be successfully issued towards GitHub when they require the username to be specified.</p>
<p>An example would be <code>]APLGit2.GetTagOfLatestRelease</code>: you may specify <code>-user=</code> and it would work, but when issued on a Cider project there is no need for this since it would collect the required information from the project's Cider config file.</p>
<div class="h_tag">
<a href="#LINK" id="LINK" class="autoheader_anchor">
<h5 data-id="LINK">2.1.1.2. LINK</h5>
</a>
</div>
<p>These are LINK parameters which are passed on to LINK when Cider brings the APL code into the WS with LINK.</p>
<p>You may add other settings like <code>caseCode</code> as well; refer to LINKs documentation for details.</p>
<div class="h_tag">
<a href="#arrays" id="arrays" class="autoheader_anchor">
<h6 data-id="arrays">2.1.1.2.1. arrays</h6>
</a>
</div>
<p>This is a Boolean that defaults to 0.</p>
<p>A 1 means that all variables are watched, 0 means that Cider does not care unless a variable is already saved in an <code>.apla</code> file.</p>
<div class="h_tag">
<a href="#beforeRead" id="beforeRead" class="autoheader_anchor">
<h6 data-id="beforeRead">2.1.1.2.2. beforeRead</h6>
</a>
</div>
<p>Empty or a <em>fully qualified</em> function name.</p>
<div class="h_tag">
<a href="#beforeWrite" id="beforeWrite" class="autoheader_anchor">
<h6 data-id="beforeWrite">2.1.1.2.3. beforeWrite</h6>
</a>
</div>
<p>Empty or a <em>fully qualified</em> function name.</p>
<div class="h_tag">
<a href="#watch" id="watch" class="autoheader_anchor">
<h6 data-id="watch">2.1.1.2.4. watch"</h6>
</a>
</div>
<p>Defaults to “both” but can be “ns” or “dir” as well.</p>
<p>Defines which source to track for changes, so the other can be synchronised.</p>
<div class="h_tag">
<a href="#SYSVARS" id="SYSVARS" class="autoheader_anchor">
<h5 data-id="SYSVARS">2.1.1.3. SYSVARS</h5>
</a>
</div>
<p>This section allows you to define system variables. <code>⎕IO</code> and <code>⎕ML</code> should always be defined here.</p>
<p>You may add other <code>⎕</code>-variables here like, say, <code>⎕CT</code> as “ct” etc.</p>
<div class="h_tag">
<a href="#io" id="io" class="autoheader_anchor">
<h6 data-id="io">2.1.1.3.1. io</h6>
</a>
</div>
<p>Defaults to 1.</p>
<div class="h_tag">
<a href="#ml" id="ml" class="autoheader_anchor">
<h6 data-id="ml">2.1.1.3.2. ml</h6>
</a>
</div>
<p>Defaults to 1.</p>
<div class="h_tag">
<a href="#USER" id="USER" class="autoheader_anchor">
<h5 data-id="USER">2.1.1.4. USER</h5>
</a>
</div>
<p>This section allows you to specify your own project-specific values; its contents (if any) is ignored by Cider.</p>
<p>This is an example:</p>
<pre><code>USER: {
   "Foo": 1,
    },
}
},</code></pre>
<p>After opening the project into, say, <code>#.MyProject</code> the value is accessible via</p>
<pre><code>#.MyProject.CiderConfig.USER.Foo</code></pre>
<div class="h_tag">
<a href="#OpenProject" id="OpenProject" class="autoheader_anchor">
<h3 data-id="OpenProject">2.2. OpenProject</h3>
</a>
</div>
<p>Naturally <code>OpenProject</code> is the most important command Cider offers. We discuss all its actions in detail.</p>
<p>Note that the contents of the file <code>cider.config</code> directs what exactly Cider is going to do when its principal method, <code>OpenProject</code>, is executed.</p>
<div class="h_tag">
<a href="#1-Creating-a-project-space" id="1-Creating-a-project-space" class="autoheader_anchor">
<h4 data-id="1-Creating-a-project-space">2.2.1. 1. Creating a project space</h4>
</a>
</div>
<p>The first step carried out by <code>]Cider.OpenProject</code> is to create a namespace with the name <code>projectSpace</code> as a child of <code>parent</code>, when <code>parent</code> defaults to <code>#</code> but may be something like <code>⎕SE</code> or <code>#.Foo.Goo</code> etc.</p>
<p>The <code>parent</code> must exist while the <code>parentSpace</code> may or may not exist. If it does not, it is created. If it does already exist then:</p>
<ul>
<li>In case the namespace and the folder are both empty Cider carries on</li>
<li>In case only the namespace is empty Cider carries on</li>
<li>In case only the folder is empty Cider carries on</li>
<li>In case neither the namespace nor the folder are empty the user is asked whether she wants the namespace to be emptied; if not an error is thrown.</li>
</ul>
<div class="h_tag">
<a href="#2-Setting-system-variables" id="2-Setting-system-variables" class="autoheader_anchor">
<h4 data-id="2-Setting-system-variables">2.2.2. 2. Setting system variables</h4>
</a>
</div>
<p>In the next step <code>]Cider.OpenProject</code> is going to set at least two system variables defined in the config file in the <code>SYSVARS</code> section of the INI file: <code>⎕IO</code> and <code>⎕ML</code>.</p>
<p>It is important to set these variables before code is brought into the workspace because bringing class scripts or namespace scripts into the workspace implies the execution of some code, and that code might well rely on the correct setting of those system variables.</p>
<p>If you need other system variables to carry specific values then you may add them to the <code>SYSVARS</code> section.</p>
<p>Note that the names are not case sensitive: whether the value for <code>⎕FR</code> is specified as “fr” or “FR” or “Fr” or “fR” does not matter.</p>
<p>In case a setting in <code>SYSVARS</code> cannot be used for assigning a system variable a warning message will be printed to the session.</p>
<div class="leanpub_A">
<h3>System variables</h3>
<p>Feel free to save system variables in files like <code>⎕IO.apla</code> in your source folder.</p>
<p>That's another way to make sure that system variables are set as early as possible because LINK will establish the values of system variables defined in files before it attempts to bring code into the workspace.</p>
</div>

<div class="h_tag">
<a href="#3-Bringing-the-code-into-the-workspace" id="3-Bringing-the-code-into-the-workspace" class="autoheader_anchor">
<h4 data-id="3-Bringing-the-code-into-the-workspace">2.2.3. 3. Bringing the code into the workspace</h4>
</a>
</div>
<p>In this step all files with supported file extensions (See LINK's documentation for details) found in <code>source</code> and any sub folder are established in the workspace in <code>{parent}.{projectSpace}</code>.</p>
<p>In order to achieve this Cider uses LINK[<a href="#fnref2" class="footnote_link"><sup>2</sup></a>].</p>
<p>Note that from now on we will refer to:</p>
<p><code>{parent}.{projectSpace}</code> as <em>the root of a project</em>.</p>
<p>By default a link is established between the root of the project and the folder. When your intention is to work on the project (read: change the code) then this is the obvious thing to do.</p>
<div class="leanpub_A">
<h3>LINK's <code>watch</code> parameter</h3>
<p>By default Cider sets the <code>watch</code> parameter to “both”, meaning that changes in the workspace via the editor are saved to disk, and any changes on disk are brought into the workspace[<a href="#fnref4" class="footnote_link"><sup>4</sup></a>].</p>
<p>You may set <code>watch</code> to “ns” or “dir” instead. Refer to the LINK documentation for details.</p>
</div>

<p>However, if you want to bring in the code as part of, say, an automated build process, then you don't want to establish a link, you just want to bring the code into the workspace. This can be achieved by specifying the <code>-import</code> flag.</p>
<div class="h_tag">
<a href="#4-Check-for-empty-package-folders" id="4-Check-for-empty-package-folders" class="autoheader_anchor">
<h4 data-id="4-Check-for-empty-package-folders">2.2.4. 4. Check for empty package folders</h4>
</a>
</div>
<p>Cider now checks whether any of the Tatin installation folders — as noted on the <code>tatinFolder</code> property — is empty apart from the dependency file and the build list.</p>
<div class="leanpub_A">
<h3>Why this may happen</h3>
<p>Since version 0.21.0 Cider itself has an enhanced <code>.gitignore</code> file: it defines that the contents of the Tatin installation folder but the two definition files shall be ignored. Only these two definition files are therefore uploaded to GitHub, but <em>none of the packages</em>.</p>
<p>The effect of this is that when somebody downloads the Cider project now <em>the Tatin installation folder contains just those two definition files but no packages!</em></p>
<p>Note that this is in line with the vast majority of other package managers.</p>
</div>

<p>In case that a Tatin installation folder defined in the Cider config file does not contain any packages but the two definition files, the user is asked whether she wants to re-install the packages.</p>
<p>If she answers “Y” she will also be asked whether she wants to update those packages in case a later version of one of the packages mentioned in the dependency file is now available.</p>
<div class="h_tag">
<a href="#5-Check-for-later-packages-versions" id="5-Check-for-later-packages-versions" class="autoheader_anchor">
<h4 data-id="5-Check-for-later-packages-versions">2.2.5. 5. Check for later packages versions</h4>
</a>
</div>
<p>In case the project has Tatin packages installed in one or more folders the user will be asked whether she wants Cider to check for any later versions of any of the principal packages. This will only happen in case <code>importFlag</code> is 0.</p>
<p>However, note that this is only true if you've loaded the package(s) from a Registry that is in your config file <em>and</em> has a priority greater than 0. Refer to the Tatin documentation for details.</p>
<p>If <code>]Cider.OpenProject</code> discovers later packages it will ask the user whether packages shall be re-installed with the <code>-update</code> flag set. This will happen independently for each package installation folder.</p>
<div class="h_tag">
<a href="#6-Loading-Tatin-packages" id="6-Loading-Tatin-packages" class="autoheader_anchor">
<h4 data-id="6-Loading-Tatin-packages">2.2.6. 6. Loading Tatin packages</h4>
</a>
</div>
<p>Your application or tool might depend on one or more Tatin[<a href="#fnref1" class="footnote_link"><sup>1</sup></a>] packages. By assigning <code>tatinFolder</code> one or more comma-separated folders hosting installed Tatin packages you can make sure that Cider will load[<a href="#fnref3" class="footnote_link"><sup>3</sup></a>] those installed packages into the root of your project.</p>
<p>In particular when you specify more than a single folder you are likely to want some packages to be loaded into a sub namespace of the root of your project.</p>
<p>For example, let's assume you want all packages installed in the folder <code>packages/</code> to be loaded into the root of your project, and that you want to load all packages from a folder <code>packages_dev/</code> (for “development”) into a namespace <code>TestCases</code> in the root of your project.</p>
<p>This will do the trick:</p>
<pre><code>"tatinFolder": "packages,packages_development=TestCases",
</code></pre>
<p>Notes:</p>
<ul>
<li>For the first folder, <code>packages/</code>, no target namespace is specified, therefore the packages are loaded into the root of the project</li>
<li>A namespace, if assigned to a folder, must be specified relative to the root of the project</li>
</ul>
<div class="h_tag">
<a href="#7-Injecting-a-namespace-CiderConfig" id="7-Injecting-a-namespace-CiderConfig" class="autoheader_anchor">
<h4 data-id="7-Injecting-a-namespace-CiderConfig">2.2.7. 7. Injecting a namespace <code>CiderConfig</code></h4>
</a>
</div>
<p>In this step <code>]Cider.OpenProject</code> injects a namespace <code>CiderConfig</code> into the project space and…</p>
<ul>
<li>populates it with the contents of the configuration file as an APL array</li>
<li>adds a variable <code>HOME</code> that remembers the path the project was loaded from</li>
</ul>
<div class="h_tag">
<a href="#8-Initialising-a-project" id="8-Initialising-a-project" class="autoheader_anchor">
<h4 data-id="8-Initialising-a-project">2.2.8. 8. Initialising a project (optional)</h4>
</a>
</div>
<p>Now there might well be demand for executing some code in order to initialise your project.</p>
<p>This can be achieved by assigning the name of a function to <code>init</code>. This must again be relative to the root of your project.</p>
<p>Notes:</p>
<ul>
<li>The function should not return a result. If it does anyway it should be shy. Any result would be ignored.</li>
<li>The function must be either monadic or niladic. If it is monadic then <code>⍬</code> is passed as right argument.
<p>What is passed as right argument might well change in a future release.</p></li>
</ul>
<p>Note that you can access the configuration data of the project from within your initialisation function by questioning the <code>CiderConfig</code> namespace.</p>
<div class="h_tag">
<a href="#9-Executing-user-specific-code" id="9-Executing-user-specific-code" class="autoheader_anchor">
<h4 data-id="9-Executing-user-specific-code">2.2.9. 9. Executing user-specific code</h4>
</a>
</div>
<p>Finally you might want to execute some general code (as opposed to project-specific code) after a project was loaded. “General” means that this code is executed whenever a project (any project!) is opened.</p>
<p>This can be achieved by specifying the fully qualified name of a function that must be monadic, most likely in <code>⎕SE</code>. A namespace with the configuration data of the project is passed as right argument.</p>
<p>The function may or may not return a result, but when it does the result will be discarded.</p>
<p>The fully qualified name of the function must go into the file that is returned by the function <code>GetCiderConfigFilename</code> which is available only via the API, not as a user command. This is the Cider config file, not a Cider project config file.</p>
<p>That file already contains a definition of the keyword <code>ExecuteAfterProjectOpen</code>, but it is empty:</p>
<pre><code>{
    ExecuteAfterProjectOpen: "",
}</code></pre>
<p>What is this good for you may ask? Well, let's assume that you are not using Git but a different version Control Software. With Git, Cider would execute the “status” command and show the result to the user. With your Version Control Software it can't do something similar.</p>
<p>You can easily achieve that by yourself: just add the required code to a function you load early into <code>⎕SE</code>, and then make sure that <code>ExecuteAfterProjectOpen</code> is calling that function and you are done.</p>
<div class="h_tag">
<a href="#Misc" id="Misc" class="autoheader_anchor">
<h2 data-id="Misc">3. Misc</h2>
</a>
</div>
<p>Cider offers helpers that are useful in particular circumstances.</p>
<div class="h_tag">
<a href="#ListTatinPackage" id="ListTatinPackage" class="autoheader_anchor">
<h3 data-id="ListTatinPackage">3.1. ListTatinPackage</h3>
</a>
</div>
<p>Checking dependencies before publishing to the principal Tatin Registry is a good idea, in particular when one uses a number of Tatin Registry like a personal one, a company Registry and https://tatin.dev</p>
<p>In such a scenario you might well install release candidates into a project that will eventually be published on https://tatin.dev, but of course not with a release candidate!</p>
<p>The function <code>ListTatinPackage</code> is helpful in putting all build lists from all Tatin install folders of a given project on display, making it easy to check.</p>
<p>The following example was created in a workspace were the project <code>APLGit2</code> was opened. Because it is the only one Cider knows that it is supposed to deal with it.</p>
<p><code>APLGit2</code> has two Tatin installation folders, one for production (<code>packages/</code>) and one for development and testing (<code>packages_dev/</code>):</p>
<pre><code>      ]listTatinPackages
*** C:/.../APLGit2/packages:
 Package-ID                                         Principal  URL
 ---------------------------                        ---------  ------------------
 aplteam-OS-3.0.1                                           1  https://tatin.dev/
 aplteam-GitHubAPIv3-0.7.0                                  1  https://tatin.dev/
 aplteam-FilesAndDirs-5.1.5                                 1  https://tatin.dev/
 aplteam-CommTools-1.0.1                                    1  https://tatin.dev/
 aplteam-APLTreeUtils2-1.1.3                                1  https://tatin.dev/
*** C:/.../APLGit2/packages_dev:
 Package-ID                                         Principal  URL
 ---------------------------                        ---------  ------------------
 aplteam-ZipArchive-1.0.0                                   1  https://tatin.dev/
 aplteam-Tester2-3.2.7                                      1  https://tatin.dev/
 aplteam-FilesAndDirs-5.1.5                                 1  https://tatin.dev/
 aplteam-CodeCoverage-0.9.3                                 1  https://tatin.dev/
 aplteam-APLTreeUtils2-1.1.3                                1  https://tatin.dev/
 aplteam-OS-3.0.1                                           0  https://tatin.dev/
 aplteam-IniFiles-5.0.3                                     0  https://tatin.dev/
 aplteam-DotNetZip-2.0.2                                    0  https://tatin.dev/</code></pre>
<div id="footnotes_div">
<hr>
<p><strong>Footnotes</strong></p>
<ol>
<li id="fnref1"><p><em>Tatin</em> is a Dyalog APL package manager: <a href="https://github.com/aplteam/Tatin" class="external_link">https://github.com/aplteam/Tatin</a></p><a href="#fnref1" class="footnote_anchor"></a>
<li id="fnref2"><p><em>LINK</em> is a tool designed to bring APL code into the workspace and keep it in sync with the files the code came from: <a href="https://github.com/dyalog/Link" class="external_link">https://github.com/dyalog/Link</a></p><a href="#fnref2" class="footnote_anchor"></a>
<li id="fnref3"><p>Strictly speaking only references to the packages are injected into your application or tool. The actual packages are loaded into either <code>#._tatin</code> or <code>⎕SE._tatin</code></p><a href="#fnref3" class="footnote_anchor"></a>
<li id="fnref4"><p>At the time of writing (July 2022) this works under Windows but not on other operating systems. However, Dyalog plans to implement this feature on all platform.</p><a href="#fnref4" class="footnote_anchor"></a>
</ol>
</div>
</body>
</html>